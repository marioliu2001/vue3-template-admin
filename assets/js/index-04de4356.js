var e;import{c as a,i as t,a as s,d as n,r as o,o as r,b as i,e as l,w as c,u as d,z as u,E as m,f as p,s as g,g as f,h,T as _,j as v,F as b,k,l as y,t as w,m as L,n as E,p as I,q as j,v as O,x as C,y as x,A,B as S,C as M,D as P,G as T,H as z,I as N,J as B,K as U,L as V,M as $,N as D,O as R,P as F,Q as q,R as H,S as J,U as W,V as K,W as Y,X as Z,Y as G,Z as Q,_ as X,$ as ee,a0 as ae,a1 as te,a2 as se,a3 as ne,a4 as oe,a5 as re,a6 as ie,a7 as le,a8 as ce,a9 as de}from"./vendor-a70d4a36.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const ue=a();ue.use(t);let me=navigator.language.replace(/-[A-Za-z]*/,"");const pe=sessionStorage.getItem("locales");null!==pe&&(me=null==(e=JSON.parse(pe))?void 0:e.locale);const ge=s({locale:me,legacy:!1,
// 防止组件引入i18n，vite脚手架报错
globalInjection:!0,
// 全局注册 $t
messages:{zh:{common:{home:"首页",about:"关于",signIn:"登录",signUp:"注册",main:"主要内容区域"},route:{dashboard:"仪表盘",workbench:"工作台"}},en:{common:{home:"home",about:"about",signIn:"sign in",signUp:"sign up",main:"common.main"},route:{dashboard:"dashboard",workbench:"Workbench"}}}}),fe=[{key:"zh",title:"中文"},{key:"en",title:"English"}],he=n("locales",{state:()=>({locale:ge.global.locale}),actions:{
// 设置当前的语言环境
setLocale(e){this.locale=e,ge.global.locale=e}},persist:{enabled:!0,strategies:[{storage:sessionStorage}]}}),_e=(e,a)=>{const t=e.__vccOpts||e;for(const[s,n]of a)t[s]=n;return t},ve={class:"app"},be=_e(Object.assign({name:"App"},{__name:"App",setup(e){const a=he(),t={zh:u,en:m};return(e,s)=>{const n=o("router-view"),u=p;return r(),i("div",ve,[l(u,{locale:t[d(a).locale]},{default:c((()=>[l(n)])),_:1},8,["locale"])])}}}),[["__scopeId","data-v-56a74ab1"]]),ke={},ye=function(e,a,t){if(!a||0===a.length)return e();const s=document.getElementsByTagName("link");return Promise.all(a.map((e=>{if((e=function(e){return"/vue3-template-admin/"+e}(e))in ke)return;ke[e]=!0;const a=e.endsWith(".css"),n=a?'[rel="stylesheet"]':"";if(!!t)for(let t=s.length-1;t>=0;t--){const n=s[t];if(n.href===e&&(!a||"stylesheet"===n.rel))return}else if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=a?"stylesheet":"modulepreload",a||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),a?new Promise(((a,t)=>{o.addEventListener("load",a),o.addEventListener("error",(()=>t(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}))},we=e=>new URL(Object.assign({"../assets/images/login-bg-dark.webp":"/vue3-template-admin/assets/webp/login-bg-dark-e973c911.webp","../assets/images/login-bg.jpg":"/vue3-template-admin/assets/jpg/login-bg-08fd3d88.jpg","../assets/images/logo.png":"/vue3-template-admin/assets/png/logo-daf79db1.png"})[`../assets/images/${e}`],self.location).href,Le=n("layout",{state:()=>({isCollapse:!1}),actions:{
// 切换isCollapse的状态
changeIsCollapse(){this.isCollapse=!this.isCollapse}},persist:{enabled:!0,strategies:[{storage:sessionStorage}]}}),Ee={class:"logo"},Ie=["src"],je={key:0,class:"logo-text"},Oe=_e(Object.assign({name:"Logo"},{__name:"Logo",setup(e){const a=Le(),{isCollapse:t}=g(a);return(e,a)=>(r(),i("div",Ee,[f("img",{class:"logo-image",src:d(we)("logo.png"),alt:"logo.png"},null,8,Ie),l(_,{"enter-active-class":"animate__animated animate__fadeInDown",mode:"out-in"},{default:c((()=>[d(t)?h("",!0):(r(),i("h1",je,"JiAdmin"))])),_:1})]))}}),[["__scopeId","data-v-53b89689"]]),Ce=[
// 控制台
{path:"/dashboard",name:"dashboard",component:()=>ye((()=>import("./index-89095af8.js")),["assets/js/index-89095af8.js","assets/js/vendor-a70d4a36.js","assets/css/vendor-4cbb55ec.css","assets/js/useInstance-4e2600df.js"]),meta:{title:"控制台",icon:"Monitor",keepAlive:!0}},
// 系统管理
{path:"/system",name:"system",redirect:"/system/user",meta:{title:"系统管理",icon:"UserFilled"},children:[{path:"user",name:"user",component:()=>ye((()=>import("./index-48f6e883.js")),["assets/js/index-48f6e883.js","assets/js/vendor-a70d4a36.js","assets/css/vendor-4cbb55ec.css","assets/js/user-df36ec5b.js"]),meta:{title:"用户管理",icon:"Monitor",keepAlive:!1}},{path:"role",name:"role",component:()=>ye((()=>import("./index-8792b59e.js")),["assets/js/index-8792b59e.js","assets/js/vendor-a70d4a36.js","assets/css/vendor-4cbb55ec.css","assets/js/user-df36ec5b.js","assets/js/useInstance-4e2600df.js"]),meta:{title:"角色管理",icon:"Monitor",keepAlive:!0}}]},
// 系统报表
{path:"/reports",name:"reports",component:()=>ye((()=>import("./index-e71d96f5.js")),["assets/js/index-e71d96f5.js","assets/js/vendor-a70d4a36.js","assets/css/vendor-4cbb55ec.css"]),meta:{title:"报表数据",icon:"Odometer",keepAlive:!0}},
// 系统设置
{path:"/settings",name:"settings",component:()=>ye((()=>import("./index-cd23ce4c.js")),["assets/js/index-cd23ce4c.js","assets/js/vendor-a70d4a36.js","assets/css/vendor-4cbb55ec.css"]),meta:{title:"系统设置",icon:"Setting",keepAlive:!0}}],xe=_e(Object.assign({name:"SideBarItem"},{__name:"SideBarItem",setup:e=>(e,a)=>{const t=L,s=E,n=I;return r(!0),i(b,null,v(d(Ce),(e=>{var a;return r(),i(b,null,[(null==(a=e.children)?void 0:a.length)?(r(),k(n,{key:e.path,index:e.path},{title:c((()=>[l(t,null,{default:c((()=>[(r(),k(y(e.meta.icon)))])),_:2},1024),f("span",null,w(e.meta.title),1)])),default:c((()=>[(r(!0),i(b,null,v(e.children,(a=>(r(),k(s,{key:a.path,index:e.path+"/"+a.path},{default:c((()=>[f("span",null,w(a.meta.title),1)])),_:2},1032,["index"])))),128))])),_:2},1032,["index"])):(r(),k(s,{key:e.path,index:e.path},{default:c((()=>[l(t,null,{default:c((()=>[(r(),k(y(e.meta.icon)))])),_:2},1024),f("span",null,w(e.meta.title),1)])),_:2},1032,["index"]))],64)})),256)}}),[["__scopeId","data-v-1e42966a"]]),Ae={class:"sidebar"},Se=_e(Object.assign({name:"SideBar"},{__name:"index",setup(e){const a=j(),t=O((()=>{const{path:e}=a;return e})),s=Le(),{isCollapse:n}=g(s);return(e,a)=>{const s=C;return r(),i("div",Ae,[l(Oe),l(s,{"background-color":"#001428","text-color":"#BBB","active-text-color":"#fff",collapse:d(n),"collapse-transition":!1,"default-active":t.value,router:""},{default:c((()=>[l(xe)])),_:1},8,["collapse","default-active"])])}}}),[["__scopeId","data-v-d8051fa4"]]),Me={class:"breadcrumb"},Pe={key:0,class:"no-redirect"},Te=["onClick"],ze=_e(Object.assign({name:"Breadcrumb"},{__name:"Breadcrumb",setup(e){const a=j(),t=x(),s=A([]);S(a,(()=>{s.value=a.matched.filter((e=>e.meta&&e.meta.title))}),{immediate:!0});return(e,a)=>{const n=z,o=N;return r(),i("div",Me,[l(o,{"separator-icon":d(T)},{default:c((()=>[l(M,{name:"breadcrumb"},{default:c((()=>[(r(!0),i(b,null,v(s.value,((e,a)=>(r(),k(n,{key:e.path},{default:c((()=>[a===s.value.length-1?(r(),i("span",Pe,w(e.meta.title),1)):(r(),i("a",{key:1,class:"redirect",onClick:P((a=>(e=>{t.push(e.path)})(e)),["prevent"])},w(e.meta.title),9,Te))])),_:2},1024)))),128))])),_:1})])),_:1},8,["separator-icon"])])}}}),[["__scopeId","data-v-c0ca521e"]]),Ne={class:"search"},Be=Object.assign({name:"MySearch"},{__name:"Search",setup:e=>(e,a)=>{const t=o("Search",!0),s=L;return r(),i("div",Ne,[l(s,{size:22},{default:c((()=>[l(t)])),_:1})])}}),Ue=n("theme",{state:()=>({htmlModeClass:window.matchMedia("(prefers-color-scheme:dark)").matches?"dark":""}),actions:{},persist:{enabled:!0,strategies:[{storage:sessionStorage}]}}),Ve=Object.assign({name:"DarkMode"},{__name:"DarkMode",setup(e){const a=Ue(),t=A(!!a.htmlModeClass);B((()=>{document.documentElement.className=a.htmlModeClass}));const s=()=>{t.value?a.htmlModeClass="dark":a.htmlModeClass="",document.documentElement.classList.toggle("dark")};return(e,a)=>{const n=$;return r(),k(n,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),style:{"--el-switch-on-color":"#0960bd","--el-switch-off-color":"#f60"},"inline-prompt":"","active-icon":d(U),"inactive-icon":d(V),onChange:s,size:"large"},null,8,["modelValue","active-icon","inactive-icon"])}}}),$e={class:"el-dropdown-link"},De=Object.assign({name:"MyLanguage"},{__name:"Language",setup(e){var a;const t=he(),{locale:s}=g(t),n=A((null==(a=fe.find((e=>e.key===s.value)))?void 0:a.title)??""),o=e=>{t.setLocale(e.key),n.value=e.title};return(e,a)=>{const t=R,s=F,u=q;return r(),k(u,{trigger:"click",onCommand:o},{dropdown:c((()=>[l(s,null,{default:c((()=>[(r(!0),i(b,null,v(d(fe),(e=>(r(),k(t,{key:e.key,command:e},{default:c((()=>[D(w(e.title),1)])),_:2},1032,["command"])))),128))])),_:1})])),default:c((()=>[f("span",$e,w(n.value),1)])),_:1})}}}),Re=Object.assign({name:"MyMessage"},{__name:"Message",setup:e=>(e,a)=>{const t=o("Message",!0),s=L;return r(),k(s,{size:22},{default:c((()=>[l(t)])),_:1})}});function Fe(e,a=document.documentElement){return a.addEventListener("fullscreenchange",(function(){e.value=!!document.fullscreenElement})),function(){document.fullscreenEnabled?e.value?document.fullscreenElement&&document.exitFullscreen():a.requestFullscreen():H.warning("浏览器不支持全屏API")}}const qe=Object.assign({name:"MyFullScreen"},{__name:"FullScreen",setup(e){const a=A(!1),t=Fe(a);return(e,s)=>{const n=o("FullScreen",!0),u=L;return r(),i("div",{class:"toggle-screen flex",onClick:s[0]||(s[0]=(...e)=>d(t)&&d(t)(...e))},[d(a)?(r(),k(u,{key:1,size:22},{default:c((()=>[l(d(J))])),_:1})):(r(),k(u,{key:0,size:22},{default:c((()=>[l(n)])),_:1}))])}}}),He="/login",Je=["/login"],We=W.create({
// baseURL: 'http://codercba.com:1888/api/',
// baseURL: ({}).VITE_BASE_URL,
timeout:5e3});We.interceptors.request.use((function(e){const a=Ge(),{token:t}=a;return t&&(e.headers={
// 'Content-Type':'application/x-www-form-urlencoded',   // 传参方式表单
// 'Content-Type': 'application/json;charset=UTF-8', // 传参方式json
satoken:`Bearer ${t}`}),e}),(function(e){return H.error(e.message),Promise.reject(e)})),We.interceptors.response.use((function(e){return e.data&&200===e.data.code?e:Promise.reject(e)}),(function(e){if(e&&e.response){switch(e.response.status){case 400:e.message="请求错误";break;case 401:e.message="权限不足, 请重新登录";break;case 403:e.message="拒绝访问";break;case 404:e.message="请求地址出错";break;case 408:e.message="请求超时";break;case 500:e.message="服务器内部错误";break;case 501:e.message="服务未实现";break;case 502:e.message="网关错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网关超时";break;case 505:e.message="HTTP 版本不受支持";break;default:e.message=`连接错误${e.response.status}`}}else JSON.stringify(e).includes("timeout")?e.message="服务器响应超时，请刷新当前页":e.message="连接服务器失败";return Promise.reject(e)}));const Ke=async(e,a,t,s={})=>{try{const n=await We({method:e,url:a,["get"===e?"params":"data"]:t,...s});return n.data.message&&H.success(n.data.message),n.data}catch(n){if(n.data){if(401===n.data.code){H.error(n.data.message||"未知错误，请重新登录");Ge().$reset(),_a.push("/login")}}else H.error(n.message||"未知错误，请重新登录")}},Ye=async(e,a={},t={})=>await Ke("get",e,a,t),Ze=async(e,a={},t={})=>await Ke("post",e,a,t),Ge=n("login",{
// 定义全局共享状态的一个初始化状态
state:()=>({token:"",userInfo:{nickName:"",email:"",phone:"",gender:"",age:"",avatarUrl:"",introduction:"",createdTime:"",updatedTime:"",isActive:"",isAdmin:""}})
// actions类似于methods，可以有同步和异步方法，修改state中的状态
,actions:{
// 登录
async doLogin(e){const a=e.username,t=e.password,s=await((e,a)=>Ze("/api/user/login",{username:e,password:a}))(a,t);s&&200===s.code&&(this.token=s.data.tokenValue,await this.doInfo(),await _a.push("/"))},
// 获取登录用户信息
async doInfo(){const e=await Ye("/api/user/getLoginUserInfo",{});if(e&&200===e.code){const{nickName:a,email:t,phone:s,gender:n,age:o,avatarUrl:r,introduction:i,createdTime:l,updatedTime:c,isActive:d,isAdmin:u}=e.data;this.userInfo={nickName:a,email:t,phone:s,gender:n,age:o,avatarUrl:r,introduction:i,createdTime:l,updatedTime:c,isActive:d,isAdmin:u},K({title:"欢迎回来~",message:`亲爱的${this.userInfo.nickName}`,position:"top-left",type:"success"})}},
// 退出登录
async doLogout(){await Ze("/api/user/logout",{})}},
// 开启持久化
persist:{enabled:!0,strategies:[{storage:localStorage}]}}),Qe={class:"el-dropdown-link"},Xe={class:"username"},ea=_e(Object.assign({name:"UserAvatar"},{__name:"UserAvatar",setup(e){const a=Ge(),t=()=>{Z.confirm("您是否确认退出登录?","温馨  提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await a.doLogout(),a.$reset(),await _a.push(He)}))},s=A(),n=A();return B((()=>{s.value=a.userInfo.nickName,n.value=a.userInfo.avatarUrl})),(e,a)=>{const o=G,i=L,u=R,m=F,p=q;return r(),k(p,{trigger:"click"},{dropdown:c((()=>[l(m,null,{default:c((()=>[l(u,null,{default:c((()=>[D("仓库地址")])),_:1}),l(u,null,{default:c((()=>[D("个人中心")])),_:1}),l(u,{divided:"",onClick:t},{default:c((()=>[D("退出登录")])),_:1})])),_:1})])),default:c((()=>[f("span",Qe,[l(o,{size:27,src:n.value},null,8,["src"]),f("span",Xe,w(s.value),1),l(i,null,{default:c((()=>[l(d(Y))])),_:1})])])),_:1})}}}),[["__scopeId","data-v-c305f532"]]),aa={class:"nav"},ta={class:"nav-left"},sa={class:"nav-right"},na={class:"nav-right__item"},oa={class:"nav-right__item"},ra={class:"nav-right__item"},ia={class:"nav-right__item"},la={class:"nav-right__item"},ca={class:"nav-right__item nav-right__user"},da=_e(Object.assign({name:"NavBar"},{__name:"Nav",setup(e){const a=Le(),{changeIsCollapse:t}=a,{isCollapse:s}=g(a);return B((()=>{document.body.clientWidth<1200&&!s.value&&a.changeIsCollapse()})),(e,a)=>{const n=L;return r(),i("div",aa,[f("div",ta,[l(n,{size:25,onClick:d(t)},{default:c((()=>[d(s)?(r(),k(d(X),{key:1})):(r(),k(d(Q),{key:0}))])),_:1},8,["onClick"]),l(ze)]),f("ul",sa,[f("li",na,[l(Be)]),f("li",oa,[l(Ve)]),f("li",ra,[l(De)]),f("li",ia,[l(Re)]),f("li",la,[l(qe)]),f("li",ca,[l(ea)])])])}}}),[["__scopeId","data-v-ff9fe1e6"]]),ua={class:"header"},ma=Object.assign({name:"HeaderContainer"},{__name:"index",setup:e=>(e,a)=>(r(),i("div",ua,[l(da)]))}),pa={class:"layout"},ga=_e({__name:"index",setup(e){const a=Le(),{isCollapse:t}=g(a);return(e,a)=>{const s=te,n=se,u=o("router-view"),m=ne,p=ee;return r(),i("div",pa,[l(p,null,{default:c((()=>[l(s,{width:d(t)?"65px":"200px"},{default:c((()=>[l(Se)])),_:1},8,["width"]),l(p,null,{default:c((()=>[l(n,null,{default:c((()=>[l(ma)])),_:1}),l(m,null,{default:c((()=>[l(u,null,{default:c((({Component:e})=>[l(_,{name:"fade",mode:"out-in"},{default:c((()=>[(r(),k(ae,null,[(r(),k(y(e)))],1024))])),_:2},1024)])),_:1})])),_:1})])),_:1})])),_:1})])}}},[["__scopeId","data-v-58539532"]]);oe.configure({easing:"ease",
// 动画方式
speed:1e3,
// 递增进度条的速度
showSpinner:!1,
// 进度环显示隐藏
trickleSpeed:200,
// 自动递增间隔
minimum:.3,
// 更改启动时使用的最小百分比
parent:"body"});const fa=()=>{oe.done()},ha=[{path:"/login",name:"login",component:()=>ye((()=>import("./index-389fc782.js")),["assets/js/index-389fc782.js","assets/js/vendor-a70d4a36.js","assets/css/vendor-4cbb55ec.css","assets/css/index-60b13e84.css"]),meta:{title:"登录"}}],_a=re({
// 创建一个 Hash 路由实例
history:ie(),
// 路由配置
routes:[...ha,
// 公有路由直接展示
{path:"/",name:"layout",component:ga,redirect:"/dashboard",children:[...Ce,
// 私有路由放在layout下展示
{path:"/404",name:"404",component:()=>ye((()=>import("./404-cdab7844.js")),["assets/js/404-cdab7844.js","assets/js/vendor-a70d4a36.js","assets/css/vendor-4cbb55ec.css"]),meta:{title:"404页面"}},{path:"/:pathMatch(.*)*",name:"error",redirect:"/404"}]}]});_a.beforeEach(((e,a,t)=>{oe.start();const s=Ge();return e.path.toLocaleLowerCase()===He?s.token?t(a.fullPath):(s.$reset(),t()):Je.includes(e.path)?t():s.token?void t():(H.error("登录已过期，请重新登录"),t({path:He,replace:!0}))})),_a.afterEach((()=>{fa()})),_a.onError((e=>{fa()}));const va={mounted:(e,a)=>{e.resizeListener=()=>{ba(e,a)},ba(e,a),window.addEventListener("resize",e.resizeListener)},unmounted(e){window.removeEventListener("resize",e.resizeListener)},updated(e,a){ba(e,a)}};function ba(e,a){var t;const s=e.offsetTop,n=(null==(t=null==a?void 0:a.value)?void 0:t.bottom)||64,o=window.innerHeight;e.style.height=o-s-n+"px",e.style.overflowY="auto"}let ka,ya=0;function wa(e,a){ka=ce.service({lock:!0,text:a||"努力加载中...",background:"rgba(255,255,255,.4)",target:document.querySelector(e)})}function La(){ka&&ka.close()}function Ea(e,a){0===ya&&wa(e,a),ya++}function Ia(){ya<=0||(ya--,0===ya&&La())}const ja=de(be);ja.use(ue),ja.use(ge),ja.use(_a),ja.use((function(e){for(const[a,t]of Object.entries(le))e.component(a,t)})),function(e){e.config.globalProperties.$myLoading={startLoading:wa,endLoading:La,showFullScreenLoading:Ea,hideFullScreenLoading:Ia,needLoadingRequestCount:ya}}(ja),ja.directive("auto-height",va),ja.mount("#app");export{_e as _,Ge as a,Ye as g,_a as r,Ue as u};
