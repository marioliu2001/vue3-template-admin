import{A as e,J as a,ao as t,o as l,b as r,e as n,w as i,ap as s,an as d,g as o,N as c,aq as u,k as p,t as g,af as f,ar as w,as as m,at as h,au as v,am as y}from"./vendor-a70d4a36.js";import{g as b}from"./user-df36ec5b.js";import{u as _}from"./useInstance-4e2600df.js";import"./index-04de4356.js";const k={class:"user"},x={class:"card-header"},z={style:{color:"#218868"}},A={style:{display:"flex","align-items":"center"}},C={__name:"index",setup(C){const{global:L}=_(),j=e([]),U=e(1),N=e(10),S=e(0),F=async()=>{L.$myLoading.showFullScreenLoading(".needLoading","正在载入数据"),await b(U.value,N.value).then((e=>{e&&e.data&&(S.value=e.data.total,j.value=e.data.records)})).catch((e=>{})).finally((()=>{L.$myLoading.hideFullScreenLoading()}))};a((async()=>{await F()}));const $=()=>{F()},q=()=>{F()};return(e,a)=>{const b=f,_=w,C=m,L=h,F=v,I=y,J=s,P=d,T=t("auto-height");return l(),r("div",k,[n(J,{class:"box-car"},{header:i((()=>[o("div",x,[n(b,{type:"primary",icon:"FolderAdd",round:""},{default:i((()=>[c("新增")])),_:1})])])),default:i((()=>[u((l(),p(I,{class:"needLoading",data:j.value,style:{width:"100%"},border:""},{default:i((()=>[n(_,{label:"序号",width:"80",align:"center",type:"index"}),n(_,{prop:"nickName",label:"用户昵称",width:"120",align:"center"},{default:i((e=>[o("span",z,g(e.row.nickName),1)])),_:1}),n(_,{prop:"avatarUrl",label:"头像",width:"180",align:"center"},{default:i((e=>[o("div",A,[n(L,{placement:"right",title:"",width:500,trigger:"hover"},{reference:i((()=>[n(C,{loading:"lazy",fit:"cover",src:e.row.avatarUrl},null,8,["src"])])),default:i((()=>[n(C,{style:{width:"100%",height:"100%"},loading:"lazy",fit:"cover",src:e.row.avatarUrl},null,8,["src"])])),_:2},1024)])])),_:1}),n(_,{prop:"email",label:"邮箱",align:"center"}),n(_,{prop:"phoneNumber",label:"手机号",align:"center"}),n(_,{prop:"gender",label:"性别",width:"80",align:"center"},{default:i((e=>[n(F,{type:1===e.row.gender?"success":"warning",class:"mx-1",effect:"dark"},{default:i((()=>[c(g(1===e.row.gender?"男":"女"),1)])),_:2},1032,["type"])])),_:1}),n(_,{prop:"age",label:"年龄",width:"70",align:"center"}),n(_,{prop:"createdTime",label:"创建时间"}),n(_,{prop:"isActive",label:"状态",width:"80",align:"center"},{default:i((e=>[n(F,{type:1===e.row.isActive?"success":"warning",class:"mx-1",effect:"light"},{default:i((()=>[c(g(1===e.row.isActive?"激活":"未激活"),1)])),_:2},1032,["type"])])),_:1}),n(_,{prop:"isAdmin",label:"管理员",width:"80",align:"center"},{default:i((e=>[n(F,{type:1===e.row.isAdmin?"success":"warning",class:"mx-1",effect:"plain"},{default:i((()=>[c(g(1===e.row.isAdmin?"是":"否"),1)])),_:2},1032,["type"])])),_:1}),n(_,{label:"操作",width:"130",align:"center"},{default:i((e=>[n(b,{link:"",type:"warning",size:"default",onClick:a=>(e.row,void alert("修改"))},{default:i((()=>[c("修改")])),_:2},1032,["onClick"]),n(b,{link:"",type:"danger",size:"default",onClick:a=>(e.row,void alert("删除"))},{default:i((()=>[c("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[T,{bottom:80}]])])),_:1}),n(P,{class:"mt-[6px]","current-page":U.value,"onUpdate:currentPage":a[0]||(a[0]=e=>U.value=e),"page-size":N.value,"onUpdate:pageSize":a[1]||(a[1]=e=>N.value=e),"page-sizes":[10,20,30,40],background:!0,layout:"prev, pager, next, jumper, ->, total, sizes",total:S.value,onSizeChange:q,onCurrentChange:$},null,8,["current-page","page-size","total"])])}}};export{C as default};
